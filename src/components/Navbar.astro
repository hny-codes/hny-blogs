---
import '../style/globals.css';

const paths = {
  about: '/about',
  posts: '/posts',
};

const pathname: string = Astro.url.pathname;

// Check paths
const homePath = /^\/$/.test(pathname); // Matches Home route
const aboutPath = pathname.includes(paths.about); // Matches About route
const postPath = pathname.includes(paths.posts); // Matches all Post routes
---

<nav
  class='py-4 fixed top-0 left-0 right-0 z-30 bg-base-100 bg-opacity-90 backdrop-blur-sm text-base-content bg-[url(/noise.svg)] bg-fixed'
>
  <div
    class='flex justify-center font-bold text-center divide-x-2 divide-[hsl(var(--n))]'
  >
    <a
      data-test='about-link'
      href='/about'
      class={`text-lg pr-4 relative group hover:text-[hsl(var(--a))] active:hover:text-[hsl(var(--af))] hover:transition ${
        aboutPath && 'text-[hsl(var(--a))]'
      }`}
      >About <div
        class='w-0 p-0.5 opacity-0 bg-accent absolute -left-1 -bottom-2 group-hover:animate-hoverNav'
      >
      </div></a
    >
    <a
      data-test='home-link'
      href='/'
      class={`uppercase text-2xl px-4 relative group hover:text-[hsl(var(--a))] active:hover:text-[hsl(var(--af))] hover:transition ${
        homePath && 'text-[hsl(var(--a))]'
      }`}
      >hny-blogs <div
        class='w-0 p-0.5 opacity-0 bg-accent absolute left-1 -bottom-2 group-hover:animate-hoverNav'
      >
      </div></a
    >
    <a
      data-test='post-link'
      href='/posts/1'
      class={`text-lg pl-4 relative group hover:text-[hsl(var(--a))] active:hover:text-[hsl(var(--af))] hover:transition ${
        postPath && 'text-[hsl(var(--a))]'
      }`}
      >Posts <div
        class='w-0 p-0.5 opacity-0 bg-accent absolute left-3 -bottom-2 group-hover:animate-hoverNav'
      >
      </div></a
    >
  </div>
</nav>
